var f=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var w=(n,t)=>{for(var e in t)f(n,e,{get:t[e],enumerable:!0})},x=(n,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of y(t))!E.call(n,r)&&r!==e&&f(n,r,{get:()=>t[r],enumerable:!(o=R(t,r))||o.enumerable});return n};var D=n=>x(f({},"__esModule",{value:!0}),n);var A={};w(A,{default:()=>U});module.exports=D(A);function p(n){let t=n.replace(/\[(.*?)\]/g,""),e=n.match(/\[(.*?)\]/g)?.[0]?.replace(/[\[\]']+/g,"");return{endpointUrl:t,endpointData:e}}function c(n,t){let e={};return t.split(",").map(r=>r.trim()).forEach(r=>{let[s,...a]=r.split(".")||[];if(!a.length){e[s]=n[s];return}let i=n[s];a.forEach(u=>{e[u]=i[u],i=i[u]})}),e}var l=(n="",t={})=>{async function e(){try{let{endpointUrl:o,endpointData:r}=p(n),a=await(await fetch(o,t)).json();return r?c(a,r):a}catch(o){return o}}return e()},m=(n="",t={},e={})=>{async function o(){try{let{endpointUrl:r,endpointData:s}=p(n),i=await(await fetch(r,{method:"POST",body:JSON.stringify(t),...e})).json();return s?c(i,s):i}catch(r){return r}}return o()},d=(n="",t={},e={})=>{async function o(){try{let{endpointUrl:r,endpointData:s}=p(n),i=await(await fetch(r,{method:"PUT",body:JSON.stringify(t),...e})).json();return s?c(i,s):i}catch(r){return r}}return o()},g=(n="",t={})=>{async function e(){try{let{endpointUrl:o,endpointData:r}=p(n),a=await(await fetch(o,{method:"DELETE",...t})).json();return r?c(a,r):a}catch(o){return o}}return e()};function h(n){n.magic("get",()=>(t="",e={})=>l(t,e)),n.magic("post",()=>(t="",e={},o={})=>m(t,e,o)),n.magic("put",()=>(t="",e={},o={})=>d(t,e,o)),n.magic("patch",()=>(t="",e={},o={})=>d(t,e,o)),n.magic("delete",()=>(t="",e={})=>g(t,e))}var U=h;
