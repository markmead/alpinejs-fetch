(()=>{function p(e){let n=e.replace(/\[(.*?)\]/g,""),t=e.match(/\[(.*?)\]/g)?.[0]?.replace(/[\[\]']+/g,"");return{endpointUrl:n,endpointData:t}}function c(e,n){let t={};return n.split(",").map(o=>o.trim()).forEach(o=>{let[s,...i]=o.split(".")||[];if(!i.length){t[s]=e[s];return}let a=e[s];i.forEach(u=>{t[u]=a[u],a=a[u]})}),t}var d=(e="",n={})=>{async function t(){try{let{endpointUrl:r,endpointData:o}=p(e),i=await(await fetch(r,n)).json();return o?c(i,o):i}catch(r){return r}}return t()},l=(e="",n={},t={})=>{async function r(){try{let{endpointUrl:o,endpointData:s}=p(e),a=await(await fetch(o,{method:"POST",body:JSON.stringify(n),...t})).json();return s?c(a,s):a}catch(o){return o}}return r()},f=(e="",n={},t={})=>{async function r(){try{let{endpointUrl:o,endpointData:s}=p(e),a=await(await fetch(o,{method:"PUT",body:JSON.stringify(n),...t})).json();return s?c(a,s):a}catch(o){return o}}return r()},m=(e="",n={})=>{async function t(){try{let{endpointUrl:r,endpointData:o}=p(e),i=await(await fetch(r,{method:"DELETE",...n})).json();return o?c(i,o):i}catch(r){return r}}return t()};function g(e){e.magic("get",()=>(n="",t={})=>d(n,t)),e.magic("post",()=>(n="",t={},r={})=>l(n,t,r)),e.magic("put",()=>(n="",t={},r={})=>f(n,t,r)),e.magic("patch",()=>(n="",t={},r={})=>f(n,t,r)),e.magic("delete",()=>(n="",t={})=>m(n,t))}document.addEventListener("alpine:init",()=>window.Alpine.plugin(g));})();
